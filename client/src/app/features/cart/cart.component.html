<section class="min-h-screen bg-gray-50 pt-20 pb-8">
  <div class="mx-auto max-w-screen-xl px-4 sm:px-6 lg:px-8">
    <!-- Page Header -->
    <div class="text-center mb-8">
      <h1 class="text-2xl sm:text-3xl font-bold text-gray-900 mb-2">
        Shopping Cart
      </h1>
      <p class="text-gray-600">Review your items and proceed to checkout</p>
    </div>

    <div class="flex flex-col lg:flex-row w-full items-start gap-6 lg:gap-8">
      <!-- Cart Items Section -->
      <div class="w-full lg:w-2/3">
        @if (cartService.cart()?.items && cartService.cart()!.items.length > 0)
        {
        <!-- Cart Items Header -->
        <div
          class="bg-white rounded-lg shadow-sm border border-gray-200 mb-4 p-4"
        >
          <div class="flex items-center justify-between">
            <h2 class="text-lg font-semibold text-gray-900">
              Cart Items ({{ cartService.itemCount() }})
            </h2>
            <button
              mat-button
              color="warn"
              class="text-sm"
              (click)="clearCart()"
            >
              <mat-icon class="mr-1">clear_all</mat-icon>
              Clear Cart
            </button>
          </div>
        </div>

        <!-- Cart Items List -->
        <div class="space-y-4">
          @for (item of cartService.cart()?.items; track item.productId) {
          <app-cart-item [item]="item"></app-cart-item>
          }
        </div>

        <!-- Continue Shopping -->
        <div
          class="mt-6 p-4 bg-white rounded-lg shadow-sm border border-gray-200"
        >
          <div
            class="flex flex-col sm:flex-row items-center justify-between gap-4"
          >
            <div class="text-sm text-gray-600">
              Need more items? Continue browsing our products
            </div>
            <button mat-stroked-button routerLink="/shop" class="px-6 py-2">
              <mat-icon class="mr-2">shopping_bag</mat-icon>
              Continue Shopping
            </button>
          </div>
        </div>
        } @else {
        <!-- Empty Cart State -->
        <div
          class="bg-white rounded-lg shadow-sm border border-gray-200 p-8 sm:p-12 text-center"
        >
          <div class="max-w-md mx-auto">
            <mat-icon class="text-gray-300 text-6xl sm:text-8xl mb-4"
              >shopping_cart</mat-icon
            >
            <h3 class="text-xl sm:text-2xl font-semibold text-gray-700 mb-3">
              Your cart is empty
            </h3>
            <p class="text-gray-500 mb-6 text-sm sm:text-base">
              Looks like you haven't added any products to your cart yet. Start
              shopping to fill it up!
            </p>
            <button
              mat-flat-button
              color="primary"
              routerLink="/shop"
              class="px-8 py-3"
            >
              <mat-icon class="mr-2">shopping_bag</mat-icon>
              Start Shopping
            </button>
          </div>
        </div>
        }
      </div>

      <!-- Order Summary Section -->
      <div class="w-full lg:w-1/3">
        <div class="sticky top-24">
          <app-order-summary></app-order-summary>

          <!-- Security & Trust Badges -->
          <div
            class="mt-4 p-4 bg-white rounded-lg shadow-sm border border-gray-200"
          >
            <h4 class="text-sm font-semibold text-gray-900 mb-3">
              Secure Checkout
            </h4>
            <div class="flex items-center gap-2 text-xs text-gray-600">
              <mat-icon class="text-green-600 text-sm">security</mat-icon>
              <span>SSL Encrypted</span>
              <span class="mx-2">â€¢</span>
              <mat-icon class="text-blue-600 text-sm">verified_user</mat-icon>
              <span>Secure Payment</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
